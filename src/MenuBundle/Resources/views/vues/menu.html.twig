<!DOCTYPE html>
<html>
		<head>
				<meta charset ="utf-8">
				<meta name ="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
			<title> Vue du menu</title>
		</head>

			<body>
			<ul class="nav">
				<li><a href="{{ path('menu_accueil') }}">Accueil</a></li>
				<li><a href="{{ path('menu_tous') }}">Voir tous les articles</a></li>
				<li><a href="{{ path('menu_cinq') }}">Voir les 5 derniers articles</a></li>
				<li class="active"><a href="{{ path("menu_contact") }}">Contact</a></li>
			</ul>
			<nav>
	<ul>
		<!--  On va boucler sur le tableau "menu" pour afficher les options -->
	    {% for item in menu %} {# Boucle principale : Eléments du tableau principal #}
	    	{# ATTENTION item est désormais un tableau associatif #}
			<li> <!--  Ouvre une nouvelle ligne HTML -->
				{% if (item.route != "") %}
    				{% if (item.route == "blog_voir") %}
    					<a href="{{ path(item.route, {id: item.identifiant}) }}" title="{{ item.titre ~ " [" ~ item.identifiant ~ "]" }}">{{ item.libelle  ~ " [" ~ item.identifiant ~ "]" }}</a>
    			    {%  else %}
    			    	<a href="{{ path(item.route) }}" title="{{ item["titre"] }}">{{ item.libelle }}</a>
    				{% endif %}
    			{% else %}
    				<!-- Ici, aucune route n'a été définie, donc... un lien un peu différent -->
    				<a href="#" title="{{ item.titre }}">{{ item.libelle }}</a>
    			{% endif %}
    			
    			{# ATTENTION, y-a-t-il des enfants pour cet item ? 
    				if(array_key_exists("enfants",$item))
    				if(property_exists($item,"enfants"))
    			#}
    			{% if item.enfants is defined %}
    				<!-- Liste pour afficher les enfants du node courant -->
    				<ul>
    					{% for enfant in item.enfants %}
    						<li>
            				    {% if (enfant.route == "blog_voir") %}
            						<a href="{{ path(enfant.route, {id: enfant.identifiant}) }}" title="{{ enfant.titre ~ " [" ~ enfant.identifiant ~ "]" }}">{{ enfant.libelle  ~ " [" ~ enfant.identifiant ~ "]" }}</a>
            			        {%  else %}
            			    		<a href="{{ path(enfant.route) }}" title="{{ enfant.titre }}">{{ enfant.libelle }}</a>
            				    {% endif %}
            				</li>  						
    					{% endfor %}
    				</ul>
    			{% endif %}
			</li> <!--  Ferme la ligne parente -->
	    {% endfor %}
	</ul>
</nav>
			
			</body>

			
</html>